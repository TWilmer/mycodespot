#summary The script used to profile SETI@Home

= This script was used to profile SETI at home on x86 (Nehalem) =

{{{
#!/bin/bash
SleepSeconds=500 # ~ 8 minutes

./seti_boinc --standalone &
date
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=CPU_CLK_UNHALTED:10000:0x0:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_CPU_CLK_UNHALTED.txt


# Running next event
date
sudo opcontrol --reset
sudo opcontrol --event=INST_RETIRED:10000:0x0:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_INST_RETIRED.txt


# Running next event 
date
sudo opcontrol --reset
sudo opcontrol --event=LLC_MISSES:10000:0x41:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_LLC_MISSES.txt

# Running next event 
date
sudo opcontrol --reset
sudo opcontrol --event=LLC_REFS:10000:0x4f:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_LLC_REFS.txt



# Running next event 
date
sudo opcontrol --reset
sudo opcontrol --event=BR_INST_RETIRED:10000:0x00:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_BR_INST_RETIRED.txt



# Running next event
date
sudo opcontrol --reset
sudo opcontrol --event=BR_MISS_PRED_RETIRED:10000:0x00:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_BR_MISS_PRED_RETIRED.txt
}}}