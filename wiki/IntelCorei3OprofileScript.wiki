#summary The script used to profile SETI@Home

= This script was used to profile SETI at home on x86 (Nehalem) =

{{{
#!/bin/bash
SleepSeconds=100 

./seti_boinc --standalone &

# Running Timer Mode
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --start
sudo opcontrol --status
echo "profiling for $SleepSeconds seconds"
sleep $SleepSeconds
sudo opcontrol --dump
date >> Nehalem_Timer_Mode.txt
sudo opreport >> Nehalem_Timer_Mode.txt
echo " " >> Nehalem_Timer_Mode.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_Timer_Mode.txt
sudo opcontrol --shutdown

# Running next event
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=INST_RETIRED:10000:0x0:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
date >> Nehalem_INST_RETIRED.txt
sudo opreport >> Nehalem_INST_RETIRED.txt
echo " " >> Nehalem_INST_RETIRED.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_INST_RETIRED.txt
sudo opcontrol --shutdown

# Running next event 
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
date
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=LLC_MISSES:10000:0x41:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
date >> Nehalem_LLC_MISSES.txt
sudo opreport >> Nehalem_LLC_MISSES.txt
echo " " >> Nehalem_LLC_MISSES.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_LLC_MISSES.txt
sudo opcontrol --shutdown

# Running next event 
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
date
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=LLC_REFS:10000:0x4f:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
date >> Nehalem_LLC_REFS.txt
sudo opreport >> Nehalem_LLC_REFS.txt
echo " " >> Nehalem_LLC_REFS.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_LLC_REFS.txt
sudo opcontrol --shutdown

# Running next event 
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
date
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=BR_INST_RETIRED:10000:0x00:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_BR_INST_RETIRED.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_BR_INST_RETIRED.txt
sudo opcontrol --shutdown

# Running next event
sudo rm -r /var/lib/oprofile/
sudo rm -r /root/.oprofile/daemonrc
date
sudo opcontrol --init
sudo opcontrol --no-vmlinux
sudo opcontrol --reset
sudo opcontrol --event=BR_MISS_PRED_RETIRED:10000:0x00:0:1
sudo opcontrol --start
sudo opcontrol --status
sleep $SleepSeconds
sudo opcontrol --dump
sudo opreport >> Nehalem_BR_MISS_PRED_RETIRED.txt
sudo opreport -l /home/jeff/stuff/seti_boinc/client/seti_boinc >> Nehalem_BR_MISS_PRED_RETIRED.txt
sudo opcontrol --shutdown
}}}


===Intel Core i3 - SETI@Home in Timer Mode ===
{{{
Sun Aug 14 14:41:13 CDT 2011
CPU: Intel Architectural Perfmon, speed 1199 MHz (estimated)
Counted CPU_CLK_UNHALTED events (Clock cycles when not halted) with a unit mask of 0x00 (No unit mask) count 100000
CPU_CLK_UNHALT...|
  samples|      %|
------------------
  2083406 96.3701 seti_boinc
    56696  2.6225 no-vmlinux
     5091  0.2355 oprofiled
     2684  0.1242 python2.6
     1927  0.0891 libglib-2.0.so.0.2600.0
     1772  0.0820 libc-2.12.1.so
     1087  0.0503 Xorg
      929  0.0430 libcairo.so.2.11000.0
      808  0.0374 libgobject-2.0.so.0.2600.0
      734  0.0340 libpthread-2.12.1.so
      629  0.0291 libgdk-x11-2.0.so.0.2200.0
      621  0.0287 libdrm_intel.so.1.0.0
      569  0.0263 libgtk-x11-2.0.so.0.2200.0
      449  0.0208 ld-2.12.1.so
      435  0.0201 bash
      403  0.0186 i965_dri.so
      387  0.0179 libdbus-1.so.3.5.2
      328  0.0152 intel_drv.so
      310  0.0143 mysqld
      303  0.0140 libX11.so.6.3.0
      228  0.0105 libpangoft2-1.0.so.0.2800.1
      218  0.0101 libpango-1.0.so.0.2800.1
      195  0.0090 libxcb.so.1.1.0
      194  0.0090 libpixman-1.so.0.18.4
      140  0.0065 compiz
       91  0.0042 libfade.so
       86  0.0040 dbus-daemon
       81  0.0037 _glib.so
       65  0.0030 libgthread-2.0.so.0.2600.0
       53  0.0025 libpyglib-2.0-python2.6.so.0.0.0
       51  0.0024 libGL.so.1.2
       47  0.0022 libgdk_pixbuf-2.0.so.0.2200.0
       37  0.0017 libm-2.12.1.so
       34  0.0016 libpangocairo-1.0.so.0.2800.1
       32  0.0015 librt-2.12.1.so
       32  0.0015 libXrender.so.1.3.0
       31  0.0014 libgtksourceview-2.0.so.0.0.0
       31  0.0014 libfb.so
       30  0.0014 libdbus-glib-1.so.2.1.0
       29  0.0013 libdecoration.so
       29  0.0013 libexpo.so
       27  0.0012 evdev_drv.so
       26  0.0012 libvte.so.9.2600.0
       24  0.0011 libgio-2.0.so.0.2600.0
       23  0.0011 libanimation.so
       23  0.0011 libwall.so
       21 9.7e-04 _gtk.so
       17 7.9e-04 libdrm.so.2.4.0
       17 7.9e-04 libudev.so.0.9.1
       17 7.9e-04 libmurrine.so
       17 7.9e-04 libwnck-1.so.22.3.30
       17 7.9e-04 _gobject.so
       16 7.4e-04 libstaticswitcher.so
       16 7.4e-04 libdri2.so
       13 6.0e-04 libXfixes.so.3.1.0
       13 6.0e-04 libextmod.so
       12 5.6e-04 gedit
       12 5.6e-04 libezoom.so
       11 5.1e-04 libresizeinfo.so
       11 5.1e-04 libscale.so
       11 5.1e-04 libORBit-2.so.0.1.0
       10 4.6e-04 libworkarounds.so
       10 4.6e-04 libgnome-keyring.so.0.1.1
        9 4.2e-04 libsvg.so
        9 4.2e-04 libXdamage.so.1.1.0
        9 4.2e-04 libcompizconfig.so.0.0.0
        9 4.2e-04 libgvfscommon.so.0.0.0
        8 3.7e-04 grep
        8 3.7e-04 libpam.so.0.82.2
        8 3.7e-04 apache2
        8 3.7e-04 libXext.so.6.4.0
        8 3.7e-04 libmetacity-private.so.0.0.0
        7 3.2e-04 gawk
        7 3.2e-04 libresize.so
        7 3.2e-04 libscaleaddon.so
        7 3.2e-04 libusbmuxd.so.1.0.4
        7 3.2e-04 rsyslogd
        6 2.8e-04 libmove.so
        6 2.8e-04 libplace.so
        6 2.8e-04 libsnap.so
        6 2.8e-04 libavahi-common.so.3.5.2
        6 2.8e-04 libstartup-notification-1.so.0.0.0
        5 2.3e-04 libpcre.so.3.12.1
        5 2.3e-04 pango-basic-fc.so
        4 1.9e-04 libapr-1.so.0.4.2
        3 1.4e-04 libccp.so
        3 1.4e-04 libsession.so
        3 1.4e-04 libgconf.so
        3 1.4e-04 libavahi-core.so.7.0.0
        3 1.4e-04 libnm-glib.so.2.4.1
        3 1.4e-04 udisks-daemon
        3 1.4e-04 NetworkManager
        2 9.3e-05 dash
        2 9.3e-05 ls
        2 9.3e-05 mkdir
        2 9.3e-05 libneg.so
        2 9.3e-05 libvpswitch.so
        2 9.3e-05 libbonobo-2.so.0.0.0
        2 9.3e-05 libnm-util.so.1.6.0
        2 9.3e-05 libxklavier.so.16.0.0
        2 9.3e-05 upowerd
        2 9.3e-05 nullmailer-send
        1 4.6e-05 libcrypto.so.0.9.8
        1 4.6e-05 libdl-2.12.1.so
        1 4.6e-05 libresolv-2.12.1.so
        1 4.6e-05 pam_limits.so
        1 4.6e-05 pam_unix.so
        1 4.6e-05 gnome-panel
        1 4.6e-05 gnome-power-manager
        1 4.6e-05 id
        1 4.6e-05 sudo
        1 4.6e-05 libregex.so
        1 4.6e-05 liba11y-keyboard.so
        1 4.6e-05 libmedia-keys.so
        1 4.6e-05 im-ibus.so
        1 4.6e-05 libXi.so.6.1.0
        1 4.6e-05 libappindicator.so.1.0.0
        1 4.6e-05 libgconf-2.so.4.1.5
        1 4.6e-05 libpulse-mainloop-glib.so.0.0.4
        1 4.6e-05 imklog.so
        1 4.6e-05 cron
 
CPU: Intel Architectural Perfmon, speed 1199 MHz (estimated)
Counted CPU_CLK_UNHALTED events (Clock cycles when not halted) with a unit mask of 0x00 (No unit mask) count 100000
samples  %        symbol name
263549   12.6506  n1bv_128
210418   10.1002  f_GetChiSq(float*, int, int, float, float, float*, float*)
182507    8.7605  sse2_ChirpData_ak(float (*) [2], float (*) [2], int, double, int, double)
159554    7.6587  GaussFit(float*, int, int)
146171    7.0163  GetFixedPoT(float*, int, int, float*, int, int)
125029    6.0015  lcgf(double, double)
113552    5.4506  analyze_pot(float*, int, ChirpFftPair_t&)
86503     4.1522  FindSpikes(float*, int, int, SETI_WU_INFO&)
76121     3.6539  f_GetPeak(float*, int, int, float, float, float*)
75270     3.6130  f_GetTrueMean(float*, int, float, int, int)
67268     3.2289  t1bv_8
66688     3.2011  t2bv_32
43793     2.1021  float_to_uchar(float*, unsigned char*, long, float)
42073     2.0195  __ieee754_log
39151     1.8793  v_GetPowerSpectrum(float (*) [2], float*, int)
38929     1.8686  t3bv_4
27435     1.3169  find_pulse(float const*, int, float, int, int)
25654     1.2314  __ieee754_pow
23923     1.1483  t1bv_16
21257     1.0204  foldArrayBy2LO(float**, PoTPlan*)
21156     1.0155  find_triplets(float const*, int, float, int, int)
15461     0.7421  t2bv_64
13487     0.6474  isnan
12516     0.6008  _int_malloc
11764     0.5647  foldArrayBy5LO(float**, PoTPlan*)
11754     0.5642  foldArrayBy4(float**, PoTPlan*)
11716     0.5624  malloc
10209     0.4900  foldArrayBy3(float**, PoTPlan*)
9966      0.4784  foldArrayBy4LO(float**, PoTPlan*)
9898      0.4751  foldArrayBy3LO(float**, PoTPlan*)
8777      0.4213  free
8410      0.4037  t1bv_4
8392      0.4028  foldArrayBy5(float**, PoTPlan*)
8140      0.3907  pow
7811      0.3749  n2bv_64
7708      0.3700  foldArrayBy2A(float**, PoTPlan*)
6160      0.2957  log
5496      0.2638  PulseProgressUnits(double, int)
4585      0.2201  fraction_done(double, double)
4119      0.1977  t1bv_32
4000      0.1920  _int_free
3577      0.1717  ChooseGaussEvent(int, float, float, float, float, int, float, float, float*)
3540      0.1699  time_to_ra_dec(double, double*, double*)
3527      0.1693  malloc_consolidate
3167      0.1520  foldArrayBy2AL(float**, PoTPlan*)
2369      0.1137  floor
1662      0.0798  analysis_config::analysis_config()
1628      0.0781  checkpoint(unsigned char)
1564      0.0751  operator new(unsigned int)
1371      0.0658  boinc_fraction_done
1217      0.0584  t_funct(int, int, int)
1194      0.0573  gaussian::gaussian()
1152      0.0553  finite
1110      0.0533  n2bv_32
1108      0.0532  t2bv_16
1098      0.0527  result::result()
1090      0.0523  cnvt_bin_hz(int, int)
1065      0.0511  workunit_grp::workunit_grp()
1044      0.0501  operator delete(void*)
898       0.0431  TripletProgressUnits()
836       0.0401  __i686.get_pc_thunk.bx
813       0.0390  workunit_header::workunit_header()
811       0.0389  std::vector<unsigned char, std::allocator<unsigned char> >::_M_fill_insert(__gnu_cxx::__normal_iterator<unsigned char*, std::vector<unsigned char, std::allocator<unsigned char> > >, unsigned int, unsigned char const&)
666       0.0320  calc_detection_freq(double, double, double)
617       0.0296  splitter_config::splitter_config()
599       0.0288  __memmove_ssse3_rep
598       0.0287  apply
592       0.0284  data_description_t::data_description_t()
510       0.0245  GaussianProgressUnits()
498       0.0239  receiver_config::receiver_config()
476       0.0228  __memset_sse2_rep
474       0.0228  tape::tape()
453       0.0217  GAUSS_INFO::~GAUSS_INFO()
429       0.0206  T.9614
408       0.0196  MFILE::MFILE()
396       0.0190  apply
371       0.0178  MFILE::~MFILE()
370       0.0178  subband_description_t::subband_description_t()
337       0.0162  apply_dit
268       0.0129  recorder_config::recorder_config()
267       0.0128  boinc_time_to_checkpoint
264       0.0127  T.9619
257       0.0123  seti_analyze(ANALYSIS_STATE&)
239       0.0115  GAUSS_INFO::GAUSS_INFO()
236       0.0113  T.9615
228       0.0109  apply
224       0.0108  T.9610
191       0.0092  t2bv_8
180       0.0086  __ieee754_log10
162       0.0078  ReportPulseEvent(float, float, float, int, int, float, float, float*, int, int)
118       0.0057  fftwf_execute_dft
115       0.0055  SpikeProgressUnits(int)
106       0.0051  spike::spike()
59        0.0028  SPIKE_INFO::SPIKE_INFO()
54        0.0026  log10
48        0.0023  SPIKE_INFO::~SPIKE_INFO()
35        0.0017  _int_memalign
29        0.0014  memalign
28        0.0013  pulse::pulse()
21        0.0010  __nanosleep_nocancel
19       9.1e-04  _dl_sysinfo_int80
18       8.6e-04  timer_handler()
13       6.2e-04  floorf
9        4.3e-04  PULSE_INFO::~PULSE_INFO()
8        3.8e-04  boinc_sleep(double)
8        3.8e-04  fftwf_kernel_malloc
8        3.8e-04  invert_lcgf(float, float, float)
7        3.4e-04  GetPulsePoTLen(long, int*, int*)
7        3.4e-04  gettimeofday
7        3.4e-04  worker_signal_handler(int)
6        2.9e-04  PULSE_INFO::PULSE_INFO()
6        2.9e-04  __libc_disable_asynccancel
6        2.9e-04  fftwf_free
6        2.9e-04  fftwf_malloc
6        2.9e-04  result_group_start()
4        1.9e-04  __restore
4        1.9e-04  calloc_a(unsigned int, unsigned int, unsigned int)
4        1.9e-04  dtime()
3        1.4e-04  ChirpProgressUnits()
3        1.4e-04  fftwf_kernel_free
3        1.4e-04  plan_PulsePoT(PoTPlan*, int, float*, int*)
3        1.4e-04  usleep
2        9.6e-05  free_a(void*)
2        9.6e-05  getrusage
2        9.6e-05  malloc_a(unsigned int, unsigned int)
1        4.8e-05  nanosleep
}}}
===Intel Core i3 running SETI@Home logging  ===
{{{


}}}